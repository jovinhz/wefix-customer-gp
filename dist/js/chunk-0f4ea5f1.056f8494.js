(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0f4ea5f1"],{"017c":function(e,t,c){"use strict";c("1ee2")},"1bdb":function(e,t,c){"use strict";c("3810")},"1ee2":function(e,t,c){},3810:function(e,t,c){},ecac:function(e,t,c){"use strict";c.r(t);var a=c("7a23");const o=e=>(Object(a["pushScopeId"])("data-v-2aa66d3f"),e=e(),Object(a["popScopeId"])(),e),l={id:"profile",class:"container"},r=o(()=>Object(a["createElementVNode"])("div",{class:"d-flex justify-content-end align-items-center flex-row-reverse flex-md-row"},[Object(a["createElementVNode"])("span",{class:"ml-2 ml-md-0"},"Biodata"),Object(a["createElementVNode"])("i",{class:"fe fe-user ml-md-2"})],-1)),n={class:"d-flex justify-content-end align-items-center flex-row-reverse flex-md-row"},s=o(()=>Object(a["createElementVNode"])("span",{class:"ml-2 mr-2 mr-md-0"},"Penawaran",-1)),i=o(()=>Object(a["createElementVNode"])("i",{class:"fe fe-shopping-bag ml-md-2"},null,-1)),d={class:"d-flex justify-content-end align-items-center flex-row-reverse flex-md-row"},b=o(()=>Object(a["createElementVNode"])("span",{class:"ml-2 ml-md-0"},"Orderan",-1)),O={class:"ml-md-2"},m={xmlns:"http://www.w3.org/2000/svg",class:"ionicon",viewBox:"0 0 512 512",width:"15",height:"15",style:{color:"inherit"}},j=o(()=>Object(a["createElementVNode"])("title",null,"Receipt",-1)),u=o(()=>Object(a["createElementVNode"])("path",{fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"40",d:"M160 336V48l32 16 32-16 31.94 16 32.37-16L320 64l31.79-16 31.93 16L416 48l32.01 16L480 48v224"},null,-1)),p=o(()=>Object(a["createElementVNode"])("path",{d:"M480 272v112a80 80 0 01-80 80h0a80 80 0 01-80-80v-48H48a15.86 15.86 0 00-16 16c0 64 6.74 112 80 112h288",fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"40"},null,-1)),h=o(()=>Object(a["createElementVNode"])("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"40",d:"M224 144h192M288 224h128"},null,-1)),f=[j,u,p,h];function k(e,t,c,o,j,u){const p=Object(a["resolveComponent"])("biodata"),h=Object(a["resolveComponent"])("a-tab-pane"),k=Object(a["resolveComponent"])("a-badge"),N=Object(a["resolveComponent"])("offer"),V=Object(a["resolveComponent"])("order"),v=Object(a["resolveComponent"])("a-tabs");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",l,[Object(a["createVNode"])(v,{activeKey:o.activeKey,"tab-position":o.settings.isMobileView?"top":"left",size:o.settings.isMobileView?"default":"large",tabBarGutter:25,onTabClick:o.onTabClick},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(h,{key:"1"},{tab:Object(a["withCtx"])(()=>[r]),default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",null,[Object(a["createVNode"])(p)])]),_:1}),Object(a["createVNode"])(h,{key:"2"},{tab:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",n,[j.loadingOffers?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createBlock"])(k,{key:0,count:o.offersCount},null,8,["count"])),s,i])]),default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",null,[Object(a["createVNode"])(N)])]),_:1}),Object(a["createVNode"])(h,{key:"3"},{tab:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",d,[b,Object(a["createElementVNode"])("i",O,[(Object(a["openBlock"])(),Object(a["createElementBlock"])("svg",m,f))])])]),default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",null,[Object(a["createVNode"])(V)])]),_:1})]),_:1},8,["activeKey","tab-position","size","onTabClick"])])}var N=c("5502"),V=c("6605"),v=c("5091");const g={class:"row mb-3"},E=Object(a["createElementVNode"])("div",{class:"col-2"},[Object(a["createElementVNode"])("span",{class:"text-gray-6"},"Nama")],-1),y={class:"col-10"},C={class:"row mb-3"},w=Object(a["createElementVNode"])("div",{class:"col-2"},[Object(a["createElementVNode"])("span",{class:"text-gray-6"},"Nomor HP")],-1),_={class:"col-10"},x={class:"row mb-3"},B=Object(a["createElementVNode"])("div",{class:"col-2"},[Object(a["createElementVNode"])("span",{class:"text-gray-6"},"Email")],-1),D={class:"col-10"},S=Object(a["createTextVNode"])(" Terverifikasi "),T={key:1},F=Object(a["createTextVNode"])("Belum Verifikasi"),P=Object(a["createTextVNode"])(" Verifikasi Email ");function I(e,t,c,o,l,r){const n=Object(a["resolveComponent"])("a-tag"),s=Object(a["resolveComponent"])("a-button"),i=Object(a["resolveComponent"])("router-link");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",null,[Object(a["createElementVNode"])("div",g,[E,Object(a["createElementVNode"])("div",y,[Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(o.user.fullName),1)])]),Object(a["createElementVNode"])("div",C,[w,Object(a["createElementVNode"])("div",_,[Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(o.user.phone_number),1)])]),Object(a["createElementVNode"])("div",x,[B,Object(a["createElementVNode"])("div",D,[Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(o.user.email),1),o.user.verified_email?(Object(a["openBlock"])(),Object(a["createBlock"])(n,{key:0,color:"green",class:"ml-3"},{default:Object(a["withCtx"])(()=>[S]),_:1})):(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",T,[Object(a["createVNode"])(n,{class:"ml-3"},{default:Object(a["withCtx"])(()=>[F]),_:1}),Object(a["createVNode"])(i,{to:"/user/verify-email"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{size:"small",type:"primary"},{default:Object(a["withCtx"])(()=>[P]),_:1})]),_:1})]))])])])}var $={setup(){const e=Object(N["b"])(),t=Object(a["computed"])(()=>e.getters["User/user"]);return{user:t}}},L=c("6b0d"),q=c.n(L);const A=q()($,[["render",I]]);var K=A;const M=Object(a["createElementVNode"])("h5",{class:"mb-3"},"Penawaran dari WeFix",-1),z=Object(a["createTextVNode"])(" Refresh "),R={class:"container p-0 my-4"},H={key:0,class:"row"},Q={class:"col-12"},U={key:1},G={key:0,class:"row text-center"},W={class:"col-12"},J={class:"row"},Y={class:"card"},X={class:"card-body"},Z={class:"row mb-3 mb-sm-2"},ee=Object(a["createElementVNode"])("div",{class:"col-12 col-sm-4 col-md-2"},[Object(a["createElementVNode"])("span",null,"Kategori")],-1),te={class:"col-12 col-sm-8 col-md-10"},ce={class:"row mb-3 mb-sm-2"},ae=Object(a["createElementVNode"])("div",{class:"col-12 col-sm-4 col-md-2"},[Object(a["createElementVNode"])("span",null,"Tipe Perangkat")],-1),oe={class:"col-12 col-sm-8 col-md-10"},le={class:"row mb-3 mb-sm-2"},re=Object(a["createElementVNode"])("div",{class:"col-12 col-sm-4 col-md-2"},[Object(a["createElementVNode"])("span",null,"Harga")],-1),ne={class:"col-12 col-sm-8 col-md-10"},se={class:"row mb-3 mb-sm-2"},ie=Object(a["createElementVNode"])("div",{class:"col-12 col-sm-4 col-md-2"},[Object(a["createElementVNode"])("span",null,"Catatan")],-1),de={class:"col-12 col-sm-8 col-md-10"},be={class:"row mt-3"},Oe={class:"col-12"},me=["onClick"],je={key:1,class:"fe fe-check mr-2"},ue=Object(a["createTextVNode"])(" Terima "),pe=["onClick"],he={key:1,class:"fe fe-x mr-2"},fe=Object(a["createTextVNode"])(" Tolak ");function ke(e,t,c,o,l,r){const n=Object(a["resolveComponent"])("sync-outlined"),s=Object(a["resolveComponent"])("a-button"),i=Object(a["resolveComponent"])("a-skeleton"),d=Object(a["resolveComponent"])("a-empty"),b=Object(a["resolveComponent"])("loading-outlined");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",null,[M,Object(a["createElementVNode"])("div",null,[Object(a["createVNode"])(s,{class:"ml-3",type:"primary",onClick:r.refresh},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(n,{spin:l.refreshing},null,8,["spin"]),z]),_:1},8,["onClick"])]),Object(a["createElementVNode"])("div",R,[l.loadingOffers?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",H,[Object(a["createElementVNode"])("div",Q,[Object(a["createVNode"])(i,{active:""})])])):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",U,[0===r.listOffers.length?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",G,[Object(a["createElementVNode"])("div",W,[Object(a["createVNode"])(d,{description:"Tidak ada tawaran",style:{"min-height":"50vh"}})])])):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("div",J,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(r.listOffers,e=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{class:"col-12",key:e.id},[Object(a["createElementVNode"])("div",Y,[Object(a["createElementVNode"])("div",X,[Object(a["createElementVNode"])("div",Z,[ee,Object(a["createElementVNode"])("div",te,[Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(e.category_item_caption),1)])]),Object(a["createElementVNode"])("div",ce,[ae,Object(a["createElementVNode"])("div",oe,[Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(e.device_type),1)])]),Object(a["createElementVNode"])("div",le,[re,Object(a["createElementVNode"])("div",ne,[Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(e.formatted_price),1)])]),Object(a["createElementVNode"])("div",se,[ie,Object(a["createElementVNode"])("div",de,[Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(e.note),1)])]),Object(a["createElementVNode"])("div",be,[Object(a["createElementVNode"])("div",Oe,[Object(a["createElementVNode"])("button",{class:Object(a["normalizeClass"])(["mr-3 btn btn-success",{disabled:l.loadingAccept}]),onClick:t=>r.acceptOffer(e.id)},[l.loadingAccept?(Object(a["openBlock"])(),Object(a["createBlock"])(b,{key:0,class:"mr-2"})):(Object(a["openBlock"])(),Object(a["createElementBlock"])("i",je)),ue],10,me),Object(a["createElementVNode"])("button",{class:Object(a["normalizeClass"])(["mr-3 btn btn-danger",{disabled:l.loadingDecline}]),onClick:t=>r.openDeclineConfirmation(e.id)},[l.loadingDecline?(Object(a["openBlock"])(),Object(a["createBlock"])(b,{key:0,class:"mr-2"})):(Object(a["openBlock"])(),Object(a["createElementBlock"])("i",he)),fe],10,pe)])])])])]))),128))])]))])])}var Ne=c("8fe6"),Ve={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M168 504.2c1-43.7 10-86.1 26.9-126 17.3-41 42.1-77.7 73.7-109.4S337 212.3 378 195c42.4-17.9 87.4-27 133.9-27s91.5 9.1 133.8 27A341.5 341.5 0 01755 268.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.7 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c0-6.7-7.7-10.5-12.9-6.3l-56.4 44.1C765.8 155.1 646.2 92 511.8 92 282.7 92 96.3 275.6 92 503.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8zm756 7.8h-60c-4.4 0-7.9 3.5-8 7.8-1 43.7-10 86.1-26.9 126-17.3 41-42.1 77.8-73.7 109.4A342.45 342.45 0 01512.1 856a342.24 342.24 0 01-243.2-100.8c-9.9-9.9-19.2-20.4-27.8-31.4l60.2-47a8 8 0 00-3-14.1l-175.7-43c-5-1.2-9.9 2.6-9.9 7.7l-.7 181c0 6.7 7.7 10.5 12.9 6.3l56.4-44.1C258.2 868.9 377.8 932 512.2 932c229.2 0 415.5-183.7 419.8-411.8a8 8 0 00-8-8.2z"}}]},name:"sync",theme:"outlined"},ve=Ve,ge=c("b3f0");function Ee(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?Object(arguments[t]):{},a=Object.keys(c);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(c).filter((function(e){return Object.getOwnPropertyDescriptor(c,e).enumerable})))),a.forEach((function(t){ye(e,t,c[t])}))}return e}function ye(e,t,c){return t in e?Object.defineProperty(e,t,{value:c,enumerable:!0,configurable:!0,writable:!0}):e[t]=c,e}var Ce=function(e,t){var c=Ee({},e,t.attrs);return Object(a["createVNode"])(ge["a"],Ee({},c,{icon:ve}),null)};Ce.displayName="SyncOutlined",Ce.inheritAttrs=!1;var we=Ce,_e=c("96d9"),xe={components:{LoadingOutlined:Ne["a"],SyncOutlined:we},data(){return{offers:[],loadingOffers:!0,loadingAccept:!1,loadingDecline:!1,refreshing:!1}},mounted(){this.fetchOffers()},computed:{listOffers(){return this.offers.filter(e=>1===e.status_id)}},methods:{async refresh(){this.refreshing=!0,await this.fetchOffers(),this.refreshing=!1},async fetchOffers(){this.loadingOffers=!0;try{const e=await Object(v["c"])();200===e.status&&(this.offers=e.data,this.$store.dispatch("User/setOfferCount",{value:this.offers.filter(e=>1===e.status_id).length}))}catch(e){}this.loadingOffers=!1},async acceptOffer(e){this.loadingAccept=!0;try{const t=await Object(v["a"])(e);200===t.status?(this.$modal.success({title:"Selamat",content:"Berhasil menerima penawaran. Order telah dibuat dan bisa dicek di halaman orderan"}),this.fetchOffers()):(t.status>401||t.status<=422)&&this.$modal.error({title:"Gagal",content:t.data.error})}catch(t){}this.loadingAccept=!1},async doDeclineOffer(e){this.loadingDecline=!0;try{const t=await Object(v["b"])(e);200===t.status?(this.$modal.success({title:"Berhasil",content:"Penawaran berhasil ditolak"}),this.fetchOffers()):(t.status>401||t.status<=422)&&this.$modal.error({title:"Gagal",content:t.data.error})}catch(t){}this.loadingDecline=!1},openDeclineConfirmation(e){this.loadingAccept||this.loadingDecline||this.$modal.confirm({title:()=>"Konfirmasi",icon:()=>Object(a["createVNode"])(_e["a"]),content:"Sudah yakin ingin menolak tawaran ini?",onOk:()=>{this.doDeclineOffer(e)},onCancel:()=>{}})}}};const Be=q()(xe,[["render",ke]]);var De=Be;const Se=Object(a["createElementVNode"])("h5",{class:"mb-3"},"Orderan",-1);function Te(e,t,c,o,l,r){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",null,[Se,Object(a["createElementVNode"])("div",null,[Object(a["createVNode"])(a["Transition"],{name:"slide-fadein-right",mode:"out-in"},{default:Object(a["withCtx"])(()=>[(Object(a["openBlock"])(),Object(a["createBlock"])(Object(a["resolveDynamicComponent"])(o.activeComponent),{onBack:o.backToList,onNext:o.goToDetail},null,40,["onBack","onNext"]))]),_:1})])])}const Fe=Object(a["createTextVNode"])("Semua"),Pe=Object(a["createTextVNode"])("On Progress"),Ie=Object(a["createTextVNode"])("Selesai"),$e=Object(a["createTextVNode"])("Dibatalkan"),Le=Object(a["createTextVNode"])(" Refresh "),qe={class:"container p-0 my-4"},Ae={key:0,class:"row"},Ke={class:"col-12"},Me={key:1},ze={key:0,class:"row text-center"},Re={class:"col-12"},He={class:"row"},Qe={class:"card"},Ue={class:"card-body"},Ge={class:"mb-3"},We={class:"row mb-3 mb-sm-2"},Je=Object(a["createElementVNode"])("div",{class:"col-12 col-sm-4 col-md-2"},[Object(a["createElementVNode"])("span",null,"Status")],-1),Ye={class:"col-12 col-sm-8 col-md-10"},Xe={class:"row mb-3 mb-sm-2"},Ze=Object(a["createElementVNode"])("div",{class:"col-12 col-sm-4 col-md-2"},[Object(a["createElementVNode"])("span",null,"Kategori")],-1),et={class:"col-12 col-sm-8 col-md-10"},tt={class:"row mb-3 mb-sm-2"},ct=Object(a["createElementVNode"])("div",{class:"col-12 col-sm-4 col-md-2"},[Object(a["createElementVNode"])("span",null,"Tipe Perangkat")],-1),at={class:"col-12 col-sm-8 col-md-10"},ot={class:"row mb-3 mb-sm-2"},lt=Object(a["createElementVNode"])("div",{class:"col-12 col-sm-4 col-md-2"},[Object(a["createElementVNode"])("span",null,"Harga")],-1),rt={class:"col-12 col-sm-8 col-md-10"},nt={class:"row"},st=Object(a["createElementVNode"])("div",{class:"d-flex align-items-center"},[Object(a["createTextVNode"])(" Lihat Detail "),Object(a["createElementVNode"])("i",{class:"fe fe-chevrons-right ml-1"})],-1);function it(e,t,c,o,l,r){const n=Object(a["resolveComponent"])("a-radio-button"),s=Object(a["resolveComponent"])("a-radio-group"),i=Object(a["resolveComponent"])("sync-outlined"),d=Object(a["resolveComponent"])("a-button"),b=Object(a["resolveComponent"])("a-skeleton"),O=Object(a["resolveComponent"])("a-empty"),m=Object(a["resolveComponent"])("a-tag");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",null,[Object(a["createVNode"])(s,{value:o.filter,"onUpdate:value":t[0]||(t[0]=e=>o.filter=e),"button-style":"solid",size:o.settings.isMobileView?"small":"default"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(n,{value:"all"},{default:Object(a["withCtx"])(()=>[Fe]),_:1}),Object(a["createVNode"])(n,{value:"onprogress"},{default:Object(a["withCtx"])(()=>[Pe]),_:1}),Object(a["createVNode"])(n,{value:"done"},{default:Object(a["withCtx"])(()=>[Ie]),_:1}),Object(a["createVNode"])(n,{value:"cancelled"},{default:Object(a["withCtx"])(()=>[$e]),_:1})]),_:1},8,["value","size"]),Object(a["createVNode"])(d,{class:"ml-3",type:"primary",onClick:r.refresh},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{spin:l.refreshing},null,8,["spin"]),Le]),_:1},8,["onClick"]),Object(a["createElementVNode"])("div",qe,[l.loadingOrders?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Ae,[Object(a["createElementVNode"])("div",Ke,[Object(a["createVNode"])(b,{active:""})])])):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Me,[0===r.listOrders.length?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",ze,[Object(a["createElementVNode"])("div",Re,[Object(a["createVNode"])(O,{description:"Tidak ada orderan",style:{"min-height":"50vh"}})])])):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("div",He,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(r.listOrders,e=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{class:"col-12",key:e.id},[Object(a["createElementVNode"])("div",Qe,[Object(a["createElementVNode"])("div",Ue,[Object(a["createElementVNode"])("h6",Ge,"Order#"+Object(a["toDisplayString"])(e.id),1),Object(a["createElementVNode"])("div",We,[Je,Object(a["createElementVNode"])("div",Ye,[5===e.status_id?(Object(a["openBlock"])(),Object(a["createBlock"])(m,{key:0,color:"blue"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.status),1)]),_:2},1024)):6===e.status_id?(Object(a["openBlock"])(),Object(a["createBlock"])(m,{key:1,color:"red"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.status),1)]),_:2},1024)):(Object(a["openBlock"])(),Object(a["createBlock"])(m,{key:2,color:"green"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.status),1)]),_:2},1024))])]),Object(a["createElementVNode"])("div",Xe,[Ze,Object(a["createElementVNode"])("div",et,[Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(e.category_item_caption),1)])]),Object(a["createElementVNode"])("div",tt,[ct,Object(a["createElementVNode"])("div",at,[Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(e.device_type),1)])]),Object(a["createElementVNode"])("div",ot,[lt,Object(a["createElementVNode"])("div",rt,[Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(e.formatted_price),1)])]),Object(a["createElementVNode"])("div",nt,[Object(a["createVNode"])(d,{type:"link",onClick:t=>r.handleDetailClick(e.id)},{default:Object(a["withCtx"])(()=>[st]),_:2},1032,["onClick"])])])])]))),128))])]))])])}var dt=c("997a");const bt=new dt["a"]({hasErrorNotif:!1}),Ot=e=>bt.axiosInstance.get("/customer/orders",e),mt=e=>bt.axiosInstance.get("/customer/orders/"+e);var jt={components:{SyncOutlined:we},setup(){const e=Object(N["b"])(),t=Object(a["computed"])(()=>e.getters["Settings/settings"]),c=Object(a["ref"])("all");return{filter:c,settings:t}},data(){return{orders:[],loadingOrders:!0,refreshing:!1}},computed:{listOrders(){return"onprogress"===this.filter?this.orders.filter(e=>5!==e.status_id&&6!==e.status_id):"done"===this.filter?this.orders.filter(e=>5===e.status_id):"cancelled"===this.filter?this.orders.filter(e=>6===e.status_id):this.orders}},mounted(){this.fetchOrders()},methods:{async fetchOrders(){this.loadingOrders=!0;try{const e=await Ot({limit:1e5,offset:0});200===e.status&&(this.orders=e.data)}catch(e){}this.loadingOrders=!1},async refresh(){this.refreshing=!0,await this.fetchOrders(),this.refreshing=!1},handleDetailClick(e){this.$emit("next",e)}}};const ut=q()(jt,[["render",it]]);var pt=ut;const ht=e=>(Object(a["pushScopeId"])("data-v-99e67fe4"),e=e(),Object(a["popScopeId"])(),e),ft=ht(()=>Object(a["createElementVNode"])("i",{class:"fe fe-arrow-left mr-2"},null,-1)),kt=Object(a["createTextVNode"])(" Back "),Nt=[ft,kt],Vt={key:1,class:"row"},vt={class:"col-md-12"},gt={class:"card"},Et={class:"card-header"},yt={class:"row"},Ct={class:"col-4 col-sm-6"},wt={class:"mb-3"},_t={class:"col-8 col-sm-6 text-right"},xt={class:"row mb-4"},Bt={class:"col-md-6 mb-4 mb-md-0"},Dt=ht(()=>Object(a["createElementVNode"])("div",{class:"mb-1"},[Object(a["createElementVNode"])("h6",null,"Informasi Customer :")],-1)),St={class:"mb-1"},Tt={class:"mb-1"},Ft={class:"mb-1"},Pt={class:"col-md-6 text-md-right"},It=ht(()=>Object(a["createElementVNode"])("div",{class:"mb-1"},[Object(a["createElementVNode"])("h6",null,"Tanggal dan Kategori :")],-1)),$t={class:"mb-1"},Lt={class:"mb-1"},qt={key:0},At={key:1},Kt={class:"row mb-4"},Mt={class:"col-md-6"},zt=ht(()=>Object(a["createElementVNode"])("div",{class:"mb-1"},[Object(a["createElementVNode"])("h6",null,"Teknisi :")],-1)),Rt={class:"col-md-6 text-md-right"},Ht=ht(()=>Object(a["createElementVNode"])("div",{class:"mb-1"},[Object(a["createElementVNode"])("h6",null,"Informasi Perangkat :")],-1)),Qt={class:"mb-1"},Ut=ht(()=>Object(a["createElementVNode"])("span",null,"Tipe Perangkat",-1)),Gt=Object(a["createTextVNode"])(" : "),Wt={class:"mb-1"},Jt=ht(()=>Object(a["createElementVNode"])("span",null,"Kode Serial",-1)),Yt=Object(a["createTextVNode"])(" : "),Xt={class:"row"},Zt={class:"col-12"},ec={class:"card-body"},tc={class:"row mb-5"},cc={class:"col-12"},ac={class:"row mt-4"},oc={class:"col-md-6 mb-4 mb-md-0"},lc=ht(()=>Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("h6",null,"Catatan")],-1)),rc={class:"col-md-6 text-md-right"},nc=ht(()=>Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("h6",null,"Grand Total")],-1)),sc={class:"grand-price text-primary"},ic={key:0,class:"col-12"},dc=Object(a["createTextVNode"])(" Beri Feedback "),bc={key:1,class:"card"},Oc=ht(()=>Object(a["createElementVNode"])("div",{class:"card-header"},[Object(a["createElementVNode"])("h6",{class:"m-0"},"Feedback Kamu")],-1)),mc={class:"card-body"},jc={class:"row mb-3"},uc={class:"col-12"},pc={class:"row"},hc={class:"col-12"},fc={class:"font-weight-bolder"};function kc(e,t,c,o,l,r){var n;const s=Object(a["resolveComponent"])("a-skeleton"),i=Object(a["resolveComponent"])("a-tag"),d=Object(a["resolveComponent"])("a-step"),b=Object(a["resolveComponent"])("a-steps"),O=Object(a["resolveComponent"])("a-table"),m=Object(a["resolveComponent"])("a-button"),j=Object(a["resolveComponent"])("a-radio"),u=Object(a["resolveComponent"])("a-divider"),p=Object(a["resolveComponent"])("a-radio-group"),h=Object(a["resolveComponent"])("a-form-item"),f=Object(a["resolveComponent"])("a-form"),k=Object(a["resolveComponent"])("a-modal");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",null,[Object(a["createElementVNode"])("a",{onClick:t[0]||(t[0]=(...e)=>r.goBack&&r.goBack(...e)),type:"link",class:"d-inline-block text-primary py-2 mb-3"},Nt),Object(a["createElementVNode"])("div",null,[l.loadingOrder?(Object(a["openBlock"])(),Object(a["createBlock"])(s,{key:0,active:"",paragraph:{rows:6}})):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Vt,[Object(a["createElementVNode"])("div",vt,[Object(a["createElementVNode"])("div",gt,[Object(a["createElementVNode"])("div",Et,[Object(a["createElementVNode"])("div",yt,[Object(a["createElementVNode"])("div",Ct,[Object(a["createElementVNode"])("h5",wt,"ORDER#"+Object(a["toDisplayString"])(l.order.id),1)]),Object(a["createElementVNode"])("div",_t,[1===l.order.status_id?(Object(a["openBlock"])(),Object(a["createBlock"])(i,{key:0,class:"mx-0"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(l.order.status),1)]),_:1})):l.order.status_id>1&&l.order.status_id<5?(Object(a["openBlock"])(),Object(a["createBlock"])(i,{key:1,color:"green",class:"mx-0"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(l.order.status),1)]),_:1})):5===l.order.status_id?(Object(a["openBlock"])(),Object(a["createBlock"])(i,{key:2,color:"blue",class:"mx-0"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(l.order.status),1)]),_:1})):6===l.order.status_id?(Object(a["openBlock"])(),Object(a["createBlock"])(i,{key:3,color:"red",class:"mx-0"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(l.order.status),1)]),_:1})):Object(a["createCommentVNode"])("",!0)])]),Object(a["createElementVNode"])("div",xt,[Object(a["createElementVNode"])("div",Bt,[Dt,Object(a["createElementVNode"])("div",St,[Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(l.order.customer.email),1)]),Object(a["createElementVNode"])("div",Tt,[Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(l.order.customer.full_name),1)]),Object(a["createElementVNode"])("div",Ft,[Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(l.order.customer.phone_number),1)])]),Object(a["createElementVNode"])("div",Pt,[It,Object(a["createElementVNode"])("div",$t,[Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(l.order.created_at),1)]),Object(a["createElementVNode"])("div",Lt,[Object(a["createElementVNode"])("div",null,[0===l.order.category_item_id?(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",qt,Object(a["toDisplayString"])(l.order.category_item_caption),1)):(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",At,Object(a["toDisplayString"])(l.order.category_item_caption),1))])])])]),Object(a["createElementVNode"])("div",Kt,[Object(a["createElementVNode"])("div",Mt,[zt,Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])((null===(n=l.order.technician)||void 0===n?void 0:n.full_name)||"-"),1)])]),Object(a["createElementVNode"])("div",Rt,[Ht,Object(a["createElementVNode"])("div",Qt,[Ut,Gt,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(l.order.device_type),1)]),Object(a["createElementVNode"])("div",Wt,[Jt,Yt,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(l.order.device_serial_number),1)])])]),Object(a["createElementVNode"])("div",Xt,[Object(a["createElementVNode"])("div",Zt,[6!==l.order.status_id?(Object(a["openBlock"])(),Object(a["createBlock"])(b,{key:0,"progress-dot":"",current:l.order.status_id-1,direction:o.settings.isTabletView||o.settings.isMobileView?"vertical":"horizontal"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{title:"Pesanan Dibuat",description:"Pesanan perbaikan/service telah dibuat."}),Object(a["createVNode"])(d,{title:"Perangkat Diterima",description:"Perangkat telah diterima oleh WeFixCBS."}),Object(a["createVNode"])(d,{title:"Perangkat Dikerjakan",description:"Perangkat sedang dalam pengerjaan oleh pihak WeFixCBS."}),Object(a["createVNode"])(d,{title:"Perangkat Selesai Dikerjakan",description:"Perangkat telah selesai dikerjakan dan menunggu Anda untuk menjemput perangkatnya."}),Object(a["createVNode"])(d,{title:"Pesanan Selesai",description:"Pesanan telah selesai."})]),_:1},8,["current","direction"])):Object(a["createCommentVNode"])("",!0)])])]),Object(a["createElementVNode"])("div",ec,[Object(a["createElementVNode"])("div",tc,[Object(a["createElementVNode"])("div",cc,[Object(a["createVNode"])(O,{columns:o.columns,"row-key":e=>e.id,"data-source":l.offers,pagination:!1},{price:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(l.order.formatted_price),1)]),_:1},8,["columns","row-key","data-source"])])]),Object(a["createElementVNode"])("div",ac,[Object(a["createElementVNode"])("div",oc,[lc,Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(l.order.note),1)])]),Object(a["createElementVNode"])("div",rc,[nc,Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("strong",sc,Object(a["toDisplayString"])(l.order.formatted_price),1)])])])])])]),5!==l.order.status_id||l.loadingOrderFeedbacks?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",ic,[l.orderFeedbacks.length?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",bc,[Oc,Object(a["createElementVNode"])("div",mc,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(l.orderFeedbacks,e=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{key:e.id},[Object(a["createElementVNode"])("div",jc,[Object(a["createElementVNode"])("div",uc,Object(a["toDisplayString"])(e.feedback_question.question),1)]),Object(a["createElementVNode"])("div",pc,[Object(a["createElementVNode"])("div",hc,[Object(a["createVNode"])(j,{checked:1===e.choice_id},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.feedback_question.choice_1),1)]),_:2},1032,["checked"]),Object(a["createVNode"])(j,{checked:2===e.choice_id},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.feedback_question.choice_2),1)]),_:2},1032,["checked"]),Object(a["createVNode"])(j,{checked:3===e.choice_id},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.feedback_question.choice_3),1)]),_:2},1032,["checked"]),Object(a["createVNode"])(j,{checked:4===e.choice_id},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.feedback_question.choice_4),1)]),_:2},1032,["checked"]),Object(a["createVNode"])(j,{checked:5===e.choice_id},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.feedback_question.choice_5),1)]),_:2},1032,["checked"])])]),Object(a["createVNode"])(u)]))),128))])])):(Object(a["openBlock"])(),Object(a["createBlock"])(m,{key:0,type:"primary",block:"",onClick:o.openFeedbackModal},{default:Object(a["withCtx"])(()=>[dc]),_:1},8,["onClick"]))]))]))]),Object(a["createVNode"])(k,{visible:o.visibleFeedback,"onUpdate:visible":t[1]||(t[1]=e=>o.visibleFeedback=e),title:"Feedback","confirm-loading":l.loadingSubmit,bodyStyle:{maxHeight:"60vh",overflowY:"scroll",width:"500px"},"ok-text":"Kirim",onOk:r.submit},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",null,[Object(a["createVNode"])(f,null,{default:Object(a["withCtx"])(()=>[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(l.feedbackQuestions,e=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{key:e.id},[Object(a["createElementVNode"])("p",fc,Object(a["toDisplayString"])(e.question),1),Object(a["createVNode"])(h,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p,{onChange:t=>r.onRadioChange(t,e.id)},{default:Object(a["withCtx"])(()=>[e.choice_1?(Object(a["openBlock"])(),Object(a["createBlock"])(j,{key:0,value:"1",class:"radio-choice"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.choice_1),1)]),_:2},1024)):Object(a["createCommentVNode"])("",!0),e.choice_2?(Object(a["openBlock"])(),Object(a["createBlock"])(j,{key:1,value:"2",class:"radio-choice"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.choice_2),1)]),_:2},1024)):Object(a["createCommentVNode"])("",!0),e.choice_3?(Object(a["openBlock"])(),Object(a["createBlock"])(j,{key:2,value:"3",class:"radio-choice"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.choice_3),1)]),_:2},1024)):Object(a["createCommentVNode"])("",!0),e.choice_4?(Object(a["openBlock"])(),Object(a["createBlock"])(j,{key:3,value:"4",class:"radio-choice"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.choice_4),1)]),_:2},1024)):Object(a["createCommentVNode"])("",!0),e.choice_5?(Object(a["openBlock"])(),Object(a["createBlock"])(j,{key:4,value:"5",class:"radio-choice"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.choice_5),1)]),_:2},1024)):Object(a["createCommentVNode"])("",!0)]),_:2},1032,["onChange"])]),_:2},1024)]))),128))]),_:1})])]),_:1},8,["visible","confirm-loading","onOk"])])}const Nc=new dt["a"]({hasErrorNotif:!1}),Vc=e=>Nc.axiosInstance.get(`/customer/orders/${e}/feedbacks/questions`),vc=e=>Nc.axiosInstance.get(`/customer/orders/${e}/feedbacks`),gc=(e,t)=>Nc.axiosInstance.post(`/customer/orders/${e}/feedbacks`,t),Ec=[{title:"Kategori",dataIndex:"category_item_caption",key:"category"},{title:"Tipe Perangkat",dataIndex:"device_type",key:"deviceType"},{title:"Harga",key:"price",slots:{customRender:"price"}}];var yc={setup(){const e=Object(a["ref"])(!1),t=Object(N["b"])(),c=Object(a["computed"])(()=>t.getters["Settings/settings"]),o=()=>{e.value=!0};return{columns:Ec,settings:c,visibleFeedback:e,openFeedbackModal:o}},mounted(){this.orderId=this.$route.path.match(/\d*$/)[0],this.fetchOrder(),this.fetchOrderFeedbacks()},data(){return{orderId:"",order:null,offers:[],feedbackQuestions:[],orderFeedbacks:[],loadingOrder:!0,loadingOrderFeedbacks:!0,answers:[],loadingSubmit:!1}},methods:{submit(){const e=[];for(let c of this.answers)void 0!==c.choice_id&&e.push(gc(this.orderId,{choice_id:c.choice_id,feedback_question_id:c.feedback_question_id}));let t=!0;Promise.allSettled(e=>e.forEach(e=>{"rejected"!==e.status&&200===e.value.status||(t=!1)})),t?(this.visibleFeedback=!1,this.$modal.success({title:"Feedback Berhasil Dikirim",content:"Terima kasih atas feedback Anda, feedback Anda sangat berguna bagi kami untuk terus meningkatkan kualitas dari layanan kami."})):this.$modal.error({title:"Feedback Gagal Dikirim",content:"Terjadi suatu kesalahan."})},async fetchOrderFeedbacks(){this.loadingOrderFeedbacks=!0;try{const e=await vc(this.orderId);200===e.status&&(this.orderFeedbacks=e.data)}catch(e){}this.loadingOrderFeedbacks=!1},async fetchFeedbackQuestions(){try{const e=await Vc();if(200===e.status){this.feedbackQuestions=e.data;for(let e of this.feedbackQuestions)this.answers.push({choice_id:void 0,feedback_question_id:e.id})}}catch(e){}},async fetchOrder(){this.loadingOrder=!0;try{const e=await mt(this.orderId);200===e.status&&(this.order=e.data,this.order.offer&&(this.offers=[e.data.offer]),5===this.order.status_id&&this.fetchFeedbackQuestions())}catch(e){}this.loadingOrder=!1},goBack(){this.$emit("back")},onRadioChange(e,t){const c=parseInt(e.target.value,10),a=this.answers.find(e=>e.feedback_question_id===t);a.choice_id=c}}};c("017c");const Cc=q()(yc,[["render",kc],["__scopeId","data-v-99e67fe4"]]);var wc=Cc,_c={components:{ListOrder:pt,DetailOrder:wc},setup(){const e=Object(V["d"])(),t=Object(a["ref"])("ListOrder"),c=c=>{e.push("/profile/orders/"+c),t.value="DetailOrder"},o=()=>{e.push("/profile/orders"),t.value="ListOrder"};return{activeComponent:t,backToList:o,goToDetail:c}}};const xc=q()(_c,[["render",Te]]);var Bc=xc,Dc={components:{Biodata:K,Offer:De,Order:Bc},setup(){const e=Object(N["b"])(),t=Object(V["c"])(),c=Object(V["d"])(),o=Object(a["computed"])(()=>t.path),l=Object(a["computed"])(()=>e.getters["User/user"].offersCount),r=Object(a["computed"])(()=>e.getters["Settings/settings"]),n=Object(a["ref"])("1"),s=()=>{/^\/profile\/?$/.test(o.value)?n.value="1":/^\/profile\/offers\/?$/.test(o.value)?n.value="2":/^\/profile\/orders(\/|\/\d+)?$/.test(o.value)&&(n.value="3")},i=e=>{"1"===e?c.push("/profile"):"2"===e?c.push("/profile/offers"):"3"===e&&c.push("/profile/orders")};return Object(a["watch"])(o,()=>{s()}),Object(a["onMounted"])(()=>{s()}),{activeKey:n,settings:r,offersCount:l,onTabClick:i}},data(){return{loadingOffers:!0}},mounted(){this.fetchOffers()},methods:{async fetchOffers(){this.loadingOffers=!0;try{const e=await Object(v["c"])();200===e.status&&this.$store.dispatch("User/setOfferCount",{value:e.data.filter(e=>1===e.status_id).length})}catch(e){}this.loadingOffers=!1}}};c("1bdb");const Sc=q()(Dc,[["render",k],["__scopeId","data-v-2aa66d3f"]]);t["default"]=Sc}}]);