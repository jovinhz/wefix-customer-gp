(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d02aafe8"],{"9a1e":function(e,t,o){"use strict";o.d(t,"a",(function(){return n})),o.d(t,"e",(function(){return i})),o.d(t,"b",(function(){return r})),o.d(t,"f",(function(){return c})),o.d(t,"c",(function(){return l})),o.d(t,"d",(function(){return d}));var s=o("997a");const a=new s["a"]({hasErrorNotif:!1}),n=(e,t)=>a.axiosInstance.post("/customer/sessions/login",{phone_number:e,password:t}),i=e=>a.axiosInstance.post("/customer/sessions/register",e),r=()=>a.axiosInstance.get("/customer/sessions/request_token_verify_email"),c=e=>a.axiosInstance.post("/customer/sessions/verify_email",{token:e}),l=e=>a.axiosInstance.get("/customer/sessions/request_token_forgot_password",{params:{email:e}}),d=e=>a.axiosInstance.post("/customer/sessions/reset_password",e)},"9dc4":function(e,t,o){"use strict";o.r(t);var s=o("7a23");const a=e=>(Object(s["pushScopeId"])("data-v-ac199980"),e=e(),Object(s["popScopeId"])(),e),n={class:"pt-5"},i=a(()=>Object(s["createElementVNode"])("img",{src:"resources/images/illustrations/present.svg",alt:"",class:"illustration"},null,-1)),r=a(()=>Object(s["createElementVNode"])("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1440 320",class:"wave"},[Object(s["createElementVNode"])("path",{fill:"#2AA8FF","fill-opacity":"0.3",d:"M0,288L60,277.3C120,267,240,245,360,240C480,235,600,245,720,256C840,267,960,277,1080,266.7C1200,256,1320,224,1380,208L1440,192L1440,320L1380,320C1320,320,1200,320,1080,320C960,320,840,320,720,320C600,320,480,320,360,320C240,320,120,320,60,320L0,320Z"})],-1)),c={class:"container p-4"},l=a(()=>Object(s["createElementVNode"])("div",{class:"brand row align-items-center justify-content-center"},[Object(s["createElementVNode"])("img",{id:"logo",src:"resources/logo.png",alt:"wefixcbs"}),Object(s["createElementVNode"])("h2",{class:"name"},"WeFixCBS")],-1)),d={class:"card py-5 px-5"},p={class:"mb-3 text-center"},u=a(()=>Object(s["createElementVNode"])("h4",{class:"pt-2"},"Verifikasi Email",-1)),m={class:"otp-input"},b={class:"otp-input-box"},f={class:"otp-input-box"},h={class:"otp-input-box"},O={class:"otp-input-box"},j={class:"otp-input-box"},v={class:"otp-input-box"},g={key:0},x={class:"text-center"},C=a(()=>Object(s["createElementVNode"])("p",{class:"text-center text-gray-5"},"Copyright Â© 2022",-1));function V(e,t,o,a,V,k){const y=Object(s["resolveComponent"])("a-alert"),N=Object(s["resolveComponent"])("a-button"),w=Object(s["resolveComponent"])("a-form-item"),E=Object(s["resolveComponent"])("a-form");return Object(s["openBlock"])(),Object(s["createElementBlock"])("div",n,[i,r,Object(s["createElementVNode"])("div",c,[l,Object(s["createElementVNode"])("div",d,[Object(s["createElementVNode"])("div",p,[u,Object(s["createElementVNode"])("p",null," Mohon masukkan kode OTP yang kami kirim untuk memverifikasi email Anda. OTP telah dikirim ke "+Object(s["toDisplayString"])(a.user.email),1)]),a.error?(Object(s["openBlock"])(),Object(s["createBlock"])(y,{key:0,message:"Gagal",description:a.error,type:"error","show-icon":"",class:"mb-4"},null,8,["description"])):Object(s["createCommentVNode"])("",!0),Object(s["createVNode"])(E,{ref:"formRef",model:a.formState,layout:"vertical","hide-required-mark":!0},{default:Object(s["withCtx"])(()=>[Object(s["createElementVNode"])("div",m,[Object(s["createElementVNode"])("div",b,[Object(s["withDirectives"])(Object(s["createElementVNode"])("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>a.formState.otps[0]=e),type:"text",maxlength:"1",ref:"input1","data-index":"0",onKeyup:t[1]||(t[1]=(...e)=>k.onChange&&k.onChange(...e)),tabindex:"-1"},null,544),[[s["vModelText"],a.formState.otps[0]]])]),Object(s["createElementVNode"])("div",f,[Object(s["withDirectives"])(Object(s["createElementVNode"])("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>a.formState.otps[1]=e),type:"text",maxlength:"1","data-index":"1",ref:"input2",onKeyup:t[3]||(t[3]=(...e)=>k.onChange&&k.onChange(...e)),tabindex:"-1"},null,544),[[s["vModelText"],a.formState.otps[1]]])]),Object(s["createElementVNode"])("div",h,[Object(s["withDirectives"])(Object(s["createElementVNode"])("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>a.formState.otps[2]=e),type:"text",maxlength:"1","data-index":"2",ref:"input3",onKeyup:t[5]||(t[5]=(...e)=>k.onChange&&k.onChange(...e)),tabindex:"-1"},null,544),[[s["vModelText"],a.formState.otps[2]]])]),Object(s["createElementVNode"])("div",O,[Object(s["withDirectives"])(Object(s["createElementVNode"])("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>a.formState.otps[3]=e),type:"text",maxlength:"1","data-index":"3",ref:"input4",onKeyup:t[7]||(t[7]=(...e)=>k.onChange&&k.onChange(...e)),tabindex:"-1"},null,544),[[s["vModelText"],a.formState.otps[3]]])]),Object(s["createElementVNode"])("div",j,[Object(s["withDirectives"])(Object(s["createElementVNode"])("input",{"onUpdate:modelValue":t[8]||(t[8]=e=>a.formState.otps[4]=e),type:"text",maxlength:"1","data-index":"4",ref:"input5",onKeyup:t[9]||(t[9]=(...e)=>k.onChange&&k.onChange(...e)),tabindex:"-1"},null,544),[[s["vModelText"],a.formState.otps[4]]])]),Object(s["createElementVNode"])("div",v,[Object(s["withDirectives"])(Object(s["createElementVNode"])("input",{"onUpdate:modelValue":t[10]||(t[10]=e=>a.formState.otps[5]=e),type:"text",maxlength:"1","data-index":"5",ref:"input6",onKeyup:t[11]||(t[11]=(...e)=>k.onChange&&k.onChange(...e)),tabindex:"-1"},null,544),[[s["vModelText"],a.formState.otps[5]]])])]),Object(s["createVNode"])(w,{class:"mt-5"},{default:Object(s["withCtx"])(()=>[Object(s["createVNode"])(N,{type:"primary","html-type":"submit",onClick:k.doVerify,class:"w-100",size:"large",loading:a.loading,disabled:!k.canSubmit},{default:Object(s["withCtx"])(()=>[a.loading?Object(s["createCommentVNode"])("",!0):(Object(s["openBlock"])(),Object(s["createElementBlock"])("span",g,"Verifikasi"))]),_:1},8,["onClick","loading","disabled"])]),_:1})]),_:1},8,["model"]),Object(s["createElementVNode"])("div",x,[Object(s["createElementVNode"])("div",null,[Object(s["createElementVNode"])("a",{class:"text-primary",onClick:t[12]||(t[12]=(...e)=>k.reRequestOtp&&k.reRequestOtp(...e))},"Kirim ulang otp")])])]),C])])}var k=o("5502"),y=o("9a1e"),N={setup(){const e=Object(k["b"])(),t=Object(s["computed"])(()=>e.getters["User/user"]),o=Object(s["ref"])(),a=Object(s["reactive"])({otps:[void 0,void 0,void 0,void 0,void 0,void 0]}),n=Object(s["ref"])(!1),i=Object(s["ref"])();return Object(s["watch"])(a.otps,()=>{a.otps[0]&&(a.otps[0]=a.otps[0].toUpperCase()),a.otps[1]&&(a.otps[1]=a.otps[1].toUpperCase()),a.otps[2]&&(a.otps[2]=a.otps[2].toUpperCase()),a.otps[3]&&(a.otps[3]=a.otps[3].toUpperCase()),a.otps[4]&&(a.otps[4]=a.otps[4].toUpperCase()),a.otps[5]&&(a.otps[5]=a.otps[5].toUpperCase())}),{formRef:o,formState:a,loading:n,error:i,user:t,store:e}},data(){return{inputs:[]}},mounted(){this.inputs=[this.$refs.input1,this.$refs.input2,this.$refs.input3,this.$refs.input4,this.$refs.input5,this.$refs.input6],Object(y["b"])()},computed:{canSubmit(){return this.formState.otps[0]&&this.formState.otps[1]&&this.formState.otps[2]&&this.formState.otps[3]&&this.formState.otps[4]&&this.formState.otps[5]}},methods:{onChange(e){const t=parseInt(e.target.getAttribute("data-index"),10);if(e.keyCode>=48&&e.keyCode<=57||e.keyCode>=65&&e.keyCode<=90||e.keyCode>=97&&e.keyCode<=122){if(5===t)return this.inputs[t].blur(),void(this.canSubmit&&this.doVerify());this.inputs[t].value=e.key.toUpperCase(),this.inputs[t+1].focus()}else 8===e.keyCode?0!==t&&this.inputs[t-1].focus():this.inputs[t].value=""},async doVerify(){this.loading=!0;const e=await Object(y["f"])(this.formState.otps.join(""));200===e.status?(await this.store.dispatch("User/updateField",{field:"verified_email",value:!0}),this.$modal.success({title:()=>"Verifikasi Email Sukses",content:()=>"Selamat, email Anda sudah berhasil diverifikasi",onOk:()=>{this.$router.push("/")}})):422===e.status&&(this.error=e.data.error),this.loading=!1},async reRequestOtp(){try{const e=await Object(y["b"])();200===e.status?this.$modal.success({title:()=>"Request OTP Berhasil",content:()=>"OTP berhasil dikirim ke email Anda"}):422===e.status?this.$modal.error({title:()=>"Request OTP Gagal",content:()=>e.data.error}):this.$modal.error({title:()=>"Request OTP Gagal",content:()=>"Terjadi suatu kesalahan, mohon coba beberapa saat lagi"})}catch(e){}}}},w=(o("c40b"),o("6b0d")),E=o.n(w);const S=E()(N,[["render",V],["__scopeId","data-v-ac199980"]]);t["default"]=S},c40b:function(e,t,o){"use strict";o("e4f0")},e4f0:function(e,t,o){}}]);