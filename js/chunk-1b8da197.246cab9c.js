(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1b8da197"],{"1bdb":function(e,t,c){"use strict";c("3810")},3810:function(e,t,c){},"8f26":function(e,t,c){"use strict";c("a6d1")},a6d1:function(e,t,c){},ecac:function(e,t,c){"use strict";c.r(t);var o=c("7a23");const a=e=>(Object(o["pushScopeId"])("data-v-2aa66d3f"),e=e(),Object(o["popScopeId"])(),e),l={id:"profile",class:"container"},r=a(()=>Object(o["createElementVNode"])("div",{class:"d-flex justify-content-end align-items-center flex-row-reverse flex-md-row"},[Object(o["createElementVNode"])("span",{class:"ml-2 ml-md-0"},"Biodata"),Object(o["createElementVNode"])("i",{class:"fe fe-user ml-md-2"})],-1)),n={class:"d-flex justify-content-end align-items-center flex-row-reverse flex-md-row"},s=a(()=>Object(o["createElementVNode"])("span",{class:"ml-2 mr-2 mr-md-0"},"Penawaran",-1)),i=a(()=>Object(o["createElementVNode"])("i",{class:"fe fe-shopping-bag ml-md-2"},null,-1)),d={class:"d-flex justify-content-end align-items-center flex-row-reverse flex-md-row"},b=a(()=>Object(o["createElementVNode"])("span",{class:"ml-2 ml-md-0"},"Orderan",-1)),O={class:"ml-md-2"},m={xmlns:"http://www.w3.org/2000/svg",class:"ionicon",viewBox:"0 0 512 512",width:"15",height:"15",style:{color:"inherit"}},j=a(()=>Object(o["createElementVNode"])("title",null,"Receipt",-1)),u=a(()=>Object(o["createElementVNode"])("path",{fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"40",d:"M160 336V48l32 16 32-16 31.94 16 32.37-16L320 64l31.79-16 31.93 16L416 48l32.01 16L480 48v224"},null,-1)),p=a(()=>Object(o["createElementVNode"])("path",{d:"M480 272v112a80 80 0 01-80 80h0a80 80 0 01-80-80v-48H48a15.86 15.86 0 00-16 16c0 64 6.74 112 80 112h288",fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"40"},null,-1)),k=a(()=>Object(o["createElementVNode"])("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"40",d:"M224 144h192M288 224h128"},null,-1)),h=[j,u,p,k];function f(e,t,c,a,j,u){const p=Object(o["resolveComponent"])("biodata"),k=Object(o["resolveComponent"])("a-tab-pane"),f=Object(o["resolveComponent"])("a-badge"),v=Object(o["resolveComponent"])("offer"),N=Object(o["resolveComponent"])("order"),V=Object(o["resolveComponent"])("a-tabs");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",l,[Object(o["createVNode"])(V,{activeKey:a.activeKey,"tab-position":a.settings.isMobileView?"top":"left",size:a.settings.isMobileView?"default":"large",tabBarGutter:25,onTabClick:a.onTabClick},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(k,{key:"1"},{tab:Object(o["withCtx"])(()=>[r]),default:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("div",null,[Object(o["createVNode"])(p)])]),_:1}),Object(o["createVNode"])(k,{key:"2"},{tab:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("div",n,[j.loadingOffers?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])(f,{key:0,count:a.offersCount},null,8,["count"])),s,i])]),default:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("div",null,[Object(o["createVNode"])(v)])]),_:1}),Object(o["createVNode"])(k,{key:"3"},{tab:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("div",d,[b,Object(o["createElementVNode"])("i",O,[(Object(o["openBlock"])(),Object(o["createElementBlock"])("svg",m,h))])])]),default:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("div",null,[Object(o["createVNode"])(N)])]),_:1})]),_:1},8,["activeKey","tab-position","size","onTabClick"])])}var v=c("5502"),N=c("6605"),V=c("5091");const g={class:"row mb-3"},E=Object(o["createElementVNode"])("div",{class:"col-2"},[Object(o["createElementVNode"])("span",{class:"text-gray-6"},"Nama")],-1),y={class:"col-10"},_={class:"row mb-3"},C=Object(o["createElementVNode"])("div",{class:"col-2"},[Object(o["createElementVNode"])("span",{class:"text-gray-6"},"Nomor HP")],-1),w={class:"col-10"},B={class:"row mb-3"},x=Object(o["createElementVNode"])("div",{class:"col-2"},[Object(o["createElementVNode"])("span",{class:"text-gray-6"},"Email")],-1),D={class:"col-10"},S=Object(o["createTextVNode"])(" Terverifikasi "),T={key:1},F=Object(o["createTextVNode"])("Belum Verifikasi"),P=Object(o["createTextVNode"])(" Verifikasi Email ");function I(e,t,c,a,l,r){const n=Object(o["resolveComponent"])("a-tag"),s=Object(o["resolveComponent"])("a-button"),i=Object(o["resolveComponent"])("router-link");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[Object(o["createElementVNode"])("div",g,[E,Object(o["createElementVNode"])("div",y,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(a.user.fullName),1)])]),Object(o["createElementVNode"])("div",_,[C,Object(o["createElementVNode"])("div",w,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(a.user.phone_number),1)])]),Object(o["createElementVNode"])("div",B,[x,Object(o["createElementVNode"])("div",D,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(a.user.email),1),a.user.verified_email?(Object(o["openBlock"])(),Object(o["createBlock"])(n,{key:0,color:"green",class:"ml-3"},{default:Object(o["withCtx"])(()=>[S]),_:1})):(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",T,[Object(o["createVNode"])(n,{class:"ml-3"},{default:Object(o["withCtx"])(()=>[F]),_:1}),Object(o["createVNode"])(i,{to:"/user/verify-email"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(s,{size:"small",type:"primary"},{default:Object(o["withCtx"])(()=>[P]),_:1})]),_:1})]))])])])}var $={setup(){const e=Object(v["b"])(),t=Object(o["computed"])(()=>e.getters["User/user"]);return{user:t}}},q=c("6b0d"),L=c.n(q);const A=L()($,[["render",I]]);var K=A;const M=Object(o["createElementVNode"])("h5",{class:"mb-3"},"Penawaran dari WeFix",-1),z=Object(o["createTextVNode"])(" Refresh "),R={class:"container p-0 my-4"},U={key:0,class:"row"},H={class:"col-12"},Q={key:1},G={key:0,class:"row text-center"},W={class:"col-12"},J={class:"row"},Y={class:"card"},X={class:"card-body"},Z={class:"row mb-3 mb-sm-2"},ee=Object(o["createElementVNode"])("div",{class:"col-12 col-sm-4 col-md-2"},[Object(o["createElementVNode"])("span",null,"Kategori")],-1),te={class:"col-12 col-sm-8 col-md-10"},ce={class:"row mb-3 mb-sm-2"},oe=Object(o["createElementVNode"])("div",{class:"col-12 col-sm-4 col-md-2"},[Object(o["createElementVNode"])("span",null,"Tipe Perangkat")],-1),ae={class:"col-12 col-sm-8 col-md-10"},le={class:"row mb-3 mb-sm-2"},re=Object(o["createElementVNode"])("div",{class:"col-12 col-sm-4 col-md-2"},[Object(o["createElementVNode"])("span",null,"Harga")],-1),ne={class:"col-12 col-sm-8 col-md-10"},se={class:"row mb-3 mb-sm-2"},ie=Object(o["createElementVNode"])("div",{class:"col-12 col-sm-4 col-md-2"},[Object(o["createElementVNode"])("span",null,"Catatan")],-1),de={class:"col-12 col-sm-8 col-md-10"},be={class:"row mt-3"},Oe={class:"col-12"},me=["onClick"],je={key:1,class:"fe fe-check mr-2"},ue=Object(o["createTextVNode"])(" Terima "),pe=["onClick"],ke={key:1,class:"fe fe-x mr-2"},he=Object(o["createTextVNode"])(" Tolak ");function fe(e,t,c,a,l,r){const n=Object(o["resolveComponent"])("sync-outlined"),s=Object(o["resolveComponent"])("a-button"),i=Object(o["resolveComponent"])("a-skeleton"),d=Object(o["resolveComponent"])("a-empty"),b=Object(o["resolveComponent"])("loading-outlined");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[M,Object(o["createElementVNode"])("div",null,[Object(o["createVNode"])(s,{class:"ml-3",type:"primary",onClick:r.refresh},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(n,{spin:l.refreshing},null,8,["spin"]),z]),_:1},8,["onClick"])]),Object(o["createElementVNode"])("div",R,[l.loadingOffers?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",U,[Object(o["createElementVNode"])("div",H,[Object(o["createVNode"])(i,{active:""})])])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Q,[0===r.listOffers.length?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",G,[Object(o["createElementVNode"])("div",W,[Object(o["createVNode"])(d,{description:"Tidak ada tawaran",style:{"min-height":"50vh"}})])])):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("div",J,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(r.listOffers,e=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:"col-12",key:e.id},[Object(o["createElementVNode"])("div",Y,[Object(o["createElementVNode"])("div",X,[Object(o["createElementVNode"])("div",Z,[ee,Object(o["createElementVNode"])("div",te,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.category_item_caption),1)])]),Object(o["createElementVNode"])("div",ce,[oe,Object(o["createElementVNode"])("div",ae,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.device_type),1)])]),Object(o["createElementVNode"])("div",le,[re,Object(o["createElementVNode"])("div",ne,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.formatted_price),1)])]),Object(o["createElementVNode"])("div",se,[ie,Object(o["createElementVNode"])("div",de,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.note),1)])]),Object(o["createElementVNode"])("div",be,[Object(o["createElementVNode"])("div",Oe,[Object(o["createElementVNode"])("button",{class:Object(o["normalizeClass"])(["mr-3 btn btn-success",{disabled:l.loadingAccept}]),onClick:t=>r.acceptOffer(e.id)},[l.loadingAccept?(Object(o["openBlock"])(),Object(o["createBlock"])(b,{key:0,class:"mr-2"})):(Object(o["openBlock"])(),Object(o["createElementBlock"])("i",je)),ue],10,me),Object(o["createElementVNode"])("button",{class:Object(o["normalizeClass"])(["mr-3 btn btn-danger",{disabled:l.loadingDecline}]),onClick:t=>r.openDeclineConfirmation(e.id)},[l.loadingDecline?(Object(o["openBlock"])(),Object(o["createBlock"])(b,{key:0,class:"mr-2"})):(Object(o["openBlock"])(),Object(o["createElementBlock"])("i",ke)),he],10,pe)])])])])]))),128))])]))])])}var ve=c("8fe6"),Ne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M168 504.2c1-43.7 10-86.1 26.9-126 17.3-41 42.1-77.7 73.7-109.4S337 212.3 378 195c42.4-17.9 87.4-27 133.9-27s91.5 9.1 133.8 27A341.5 341.5 0 01755 268.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.7 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c0-6.7-7.7-10.5-12.9-6.3l-56.4 44.1C765.8 155.1 646.2 92 511.8 92 282.7 92 96.3 275.6 92 503.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8zm756 7.8h-60c-4.4 0-7.9 3.5-8 7.8-1 43.7-10 86.1-26.9 126-17.3 41-42.1 77.8-73.7 109.4A342.45 342.45 0 01512.1 856a342.24 342.24 0 01-243.2-100.8c-9.9-9.9-19.2-20.4-27.8-31.4l60.2-47a8 8 0 00-3-14.1l-175.7-43c-5-1.2-9.9 2.6-9.9 7.7l-.7 181c0 6.7 7.7 10.5 12.9 6.3l56.4-44.1C258.2 868.9 377.8 932 512.2 932c229.2 0 415.5-183.7 419.8-411.8a8 8 0 00-8-8.2z"}}]},name:"sync",theme:"outlined"},Ve=Ne,ge=c("b3f0");function Ee(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?Object(arguments[t]):{},o=Object.keys(c);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(c).filter((function(e){return Object.getOwnPropertyDescriptor(c,e).enumerable})))),o.forEach((function(t){ye(e,t,c[t])}))}return e}function ye(e,t,c){return t in e?Object.defineProperty(e,t,{value:c,enumerable:!0,configurable:!0,writable:!0}):e[t]=c,e}var _e=function(e,t){var c=Ee({},e,t.attrs);return Object(o["createVNode"])(ge["a"],Ee({},c,{icon:Ve}),null)};_e.displayName="SyncOutlined",_e.inheritAttrs=!1;var Ce=_e,we=c("96d9"),Be={components:{LoadingOutlined:ve["a"],SyncOutlined:Ce},data(){return{offers:[],loadingOffers:!0,loadingAccept:!1,loadingDecline:!1,refreshing:!1}},mounted(){this.fetchOffers()},computed:{listOffers(){return this.offers.filter(e=>1===e.status_id)}},methods:{async refresh(){this.refreshing=!0,await this.fetchOffers(),this.refreshing=!1},async fetchOffers(){this.loadingOffers=!0;try{const e=await Object(V["c"])();200===e.status&&(this.offers=e.data,this.$store.dispatch("User/setOfferCount",{value:this.offers.filter(e=>1===e.status_id).length}))}catch(e){}this.loadingOffers=!1},async acceptOffer(e){this.loadingAccept=!0;try{const t=await Object(V["a"])(e);200===t.status?(this.$modal.success({title:"Selamat",content:"Berhasil menerima penawaran. Order telah dibuat dan bisa dicek di halaman orderan"}),this.fetchOffers()):(t.status>401||t.status<=422)&&this.$modal.error({title:"Gagal",content:t.data.error})}catch(t){}this.loadingAccept=!1},async doDeclineOffer(e){this.loadingDecline=!0;try{const t=await Object(V["b"])(e);200===t.status?(this.$modal.success({title:"Berhasil",content:"Penawaran berhasil ditolak"}),this.fetchOffers()):(t.status>401||t.status<=422)&&this.$modal.error({title:"Gagal",content:t.data.error})}catch(t){}this.loadingDecline=!1},openDeclineConfirmation(e){this.loadingAccept||this.loadingDecline||this.$modal.confirm({title:()=>"Konfirmasi",icon:()=>Object(o["createVNode"])(we["a"]),content:"Sudah yakin ingin menolak tawaran ini?",onOk:()=>{this.doDeclineOffer(e)},onCancel:()=>{}})}}};const xe=L()(Be,[["render",fe]]);var De=xe;const Se=Object(o["createElementVNode"])("h5",{class:"mb-3"},"Orderan",-1);function Te(e,t,c,a,l,r){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[Se,Object(o["createElementVNode"])("div",null,[Object(o["createVNode"])(o["Transition"],{name:"slide-fadein-right",mode:"out-in"},{default:Object(o["withCtx"])(()=>[(Object(o["openBlock"])(),Object(o["createBlock"])(Object(o["resolveDynamicComponent"])(a.activeComponent),{onBack:a.backToList,onNext:a.goToDetail},null,40,["onBack","onNext"]))]),_:1})])])}const Fe=Object(o["createTextVNode"])("Semua"),Pe=Object(o["createTextVNode"])("On Progress"),Ie=Object(o["createTextVNode"])("Selesai"),$e=Object(o["createTextVNode"])("Dibatalkan"),qe=Object(o["createTextVNode"])(" Refresh "),Le={class:"container p-0 my-4"},Ae={key:0,class:"row"},Ke={class:"col-12"},Me={key:1},ze={key:0,class:"row text-center"},Re={class:"col-12"},Ue={class:"row"},He={class:"card"},Qe={class:"card-body"},Ge={class:"mb-3"},We={class:"row mb-3 mb-sm-2"},Je=Object(o["createElementVNode"])("div",{class:"col-12 col-sm-4 col-md-2"},[Object(o["createElementVNode"])("span",null,"Status")],-1),Ye={class:"col-12 col-sm-8 col-md-10"},Xe={class:"row mb-3 mb-sm-2"},Ze=Object(o["createElementVNode"])("div",{class:"col-12 col-sm-4 col-md-2"},[Object(o["createElementVNode"])("span",null,"Kategori")],-1),et={class:"col-12 col-sm-8 col-md-10"},tt={class:"row mb-3 mb-sm-2"},ct=Object(o["createElementVNode"])("div",{class:"col-12 col-sm-4 col-md-2"},[Object(o["createElementVNode"])("span",null,"Tipe Perangkat")],-1),ot={class:"col-12 col-sm-8 col-md-10"},at={class:"row mb-3 mb-sm-2"},lt=Object(o["createElementVNode"])("div",{class:"col-12 col-sm-4 col-md-2"},[Object(o["createElementVNode"])("span",null,"Harga")],-1),rt={class:"col-12 col-sm-8 col-md-10"},nt={class:"row"},st=Object(o["createElementVNode"])("div",{class:"d-flex align-items-center"},[Object(o["createTextVNode"])(" Lihat Detail "),Object(o["createElementVNode"])("i",{class:"fe fe-chevrons-right ml-1"})],-1);function it(e,t,c,a,l,r){const n=Object(o["resolveComponent"])("a-radio-button"),s=Object(o["resolveComponent"])("a-radio-group"),i=Object(o["resolveComponent"])("sync-outlined"),d=Object(o["resolveComponent"])("a-button"),b=Object(o["resolveComponent"])("a-skeleton"),O=Object(o["resolveComponent"])("a-empty"),m=Object(o["resolveComponent"])("a-tag");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[Object(o["createVNode"])(s,{value:a.filter,"onUpdate:value":t[0]||(t[0]=e=>a.filter=e),"button-style":"solid",size:a.settings.isMobileView?"small":"default"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(n,{value:"all"},{default:Object(o["withCtx"])(()=>[Fe]),_:1}),Object(o["createVNode"])(n,{value:"onprogress"},{default:Object(o["withCtx"])(()=>[Pe]),_:1}),Object(o["createVNode"])(n,{value:"done"},{default:Object(o["withCtx"])(()=>[Ie]),_:1}),Object(o["createVNode"])(n,{value:"cancelled"},{default:Object(o["withCtx"])(()=>[$e]),_:1})]),_:1},8,["value","size"]),Object(o["createVNode"])(d,{class:"ml-3",type:"primary",onClick:r.refresh},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(i,{spin:l.refreshing},null,8,["spin"]),qe]),_:1},8,["onClick"]),Object(o["createElementVNode"])("div",Le,[l.loadingOrders?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Ae,[Object(o["createElementVNode"])("div",Ke,[Object(o["createVNode"])(b,{active:""})])])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Me,[0===r.listOrders.length?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ze,[Object(o["createElementVNode"])("div",Re,[Object(o["createVNode"])(O,{description:"Tidak ada orderan",style:{"min-height":"50vh"}})])])):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("div",Ue,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(r.listOrders,e=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:"col-12",key:e.id},[Object(o["createElementVNode"])("div",He,[Object(o["createElementVNode"])("div",Qe,[Object(o["createElementVNode"])("h6",Ge,"Order#"+Object(o["toDisplayString"])(e.id),1),Object(o["createElementVNode"])("div",We,[Je,Object(o["createElementVNode"])("div",Ye,[5===e.status_id?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,color:"blue"},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.status),1)]),_:2},1024)):6===e.status_id?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:1,color:"red"},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.status),1)]),_:2},1024)):(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:2,color:"green"},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.status),1)]),_:2},1024))])]),Object(o["createElementVNode"])("div",Xe,[Ze,Object(o["createElementVNode"])("div",et,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.category_item_caption),1)])]),Object(o["createElementVNode"])("div",tt,[ct,Object(o["createElementVNode"])("div",ot,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.device_type),1)])]),Object(o["createElementVNode"])("div",at,[lt,Object(o["createElementVNode"])("div",rt,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.formatted_price),1)])]),Object(o["createElementVNode"])("div",nt,[Object(o["createVNode"])(d,{type:"link",onClick:t=>r.handleDetailClick(e.id)},{default:Object(o["withCtx"])(()=>[st]),_:2},1032,["onClick"])])])])]))),128))])]))])])}var dt=c("997a");const bt=new dt["a"]({hasErrorNotif:!1}),Ot=e=>bt.axiosInstance.get("/customer/orders",e),mt=e=>bt.axiosInstance.get("/customer/orders/"+e);var jt={components:{SyncOutlined:Ce},setup(){const e=Object(v["b"])(),t=Object(o["computed"])(()=>e.getters["Settings/settings"]),c=Object(o["ref"])("all");return{filter:c,settings:t}},data(){return{orders:[],loadingOrders:!0,refreshing:!1}},computed:{listOrders(){return"onprogress"===this.filter?this.orders.filter(e=>5!==e.status_id&&6!==e.status_id):"done"===this.filter?this.orders.filter(e=>5===e.status_id):"cancelled"===this.filter?this.orders.filter(e=>6===e.status_id):this.orders}},mounted(){this.fetchOrders()},methods:{async fetchOrders(){this.loadingOrders=!0;try{const e=await Ot({limit:1e5,offset:0});200===e.status&&(this.orders=e.data)}catch(e){}this.loadingOrders=!1},async refresh(){this.refreshing=!0,await this.fetchOrders(),this.refreshing=!1},handleDetailClick(e){this.$emit("next",e)}}};const ut=L()(jt,[["render",it]]);var pt=ut;const kt=e=>(Object(o["pushScopeId"])("data-v-cf7005e8"),e=e(),Object(o["popScopeId"])(),e),ht=kt(()=>Object(o["createElementVNode"])("i",{class:"fe fe-arrow-left mr-2"},null,-1)),ft=Object(o["createTextVNode"])(" Back "),vt=[ht,ft],Nt={key:1,class:"row"},Vt={class:"col-md-12"},gt={class:"card"},Et={class:"card-header"},yt={class:"row"},_t={class:"col-4 col-sm-6"},Ct={class:"mb-3"},wt={class:"col-8 col-sm-6 text-right"},Bt={class:"row mb-4"},xt={class:"col-md-6 mb-4 mb-md-0"},Dt=kt(()=>Object(o["createElementVNode"])("div",{class:"mb-1"},[Object(o["createElementVNode"])("h6",null,"Informasi Customer :")],-1)),St={class:"mb-1"},Tt={class:"mb-1"},Ft={class:"mb-1"},Pt={class:"col-md-6 text-md-right"},It=kt(()=>Object(o["createElementVNode"])("div",{class:"mb-1"},[Object(o["createElementVNode"])("h6",null,"Tanggal dan Kategori :")],-1)),$t={class:"mb-1"},qt={class:"mb-1"},Lt={key:0},At={key:1},Kt={class:"row mb-4"},Mt={class:"col-md-6"},zt=kt(()=>Object(o["createElementVNode"])("div",{class:"mb-1"},[Object(o["createElementVNode"])("h6",null,"Teknisi :")],-1)),Rt={class:"col-md-6 text-md-right"},Ut=kt(()=>Object(o["createElementVNode"])("div",{class:"mb-1"},[Object(o["createElementVNode"])("h6",null,"Informasi Perangkat :")],-1)),Ht={class:"mb-1"},Qt=kt(()=>Object(o["createElementVNode"])("span",null,"Tipe Perangkat",-1)),Gt=Object(o["createTextVNode"])(" : "),Wt={class:"mb-1"},Jt=kt(()=>Object(o["createElementVNode"])("span",null,"Kode Serial",-1)),Yt=Object(o["createTextVNode"])(" : "),Xt={class:"row"},Zt={class:"col-12"},ec={class:"card-body"},tc={class:"row mb-5"},cc={class:"col-12"},oc={class:"row mt-4"},ac={class:"col-md-6 mb-4 mb-md-0"},lc=kt(()=>Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("h6",null,"Catatan")],-1)),rc={class:"col-md-6 text-md-right"},nc=kt(()=>Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("h6",null,"Grand Total")],-1)),sc={class:"grand-price text-primary"},ic={key:0,class:"col-12"},dc=Object(o["createTextVNode"])(" Beri Feedback "),bc={key:1,class:"card"},Oc=kt(()=>Object(o["createElementVNode"])("div",{class:"card-header"},[Object(o["createElementVNode"])("h6",{class:"m-0"},"Feedback Kamu")],-1)),mc={class:"card-body"},jc={class:"row mb-3"},uc={class:"col-12"},pc={class:"row"},kc={key:0,class:"col-12"},hc={key:1,class:"col-12"},fc={class:"font-weight-bolder"};function vc(e,t,c,a,l,r){var n;const s=Object(o["resolveComponent"])("a-skeleton"),i=Object(o["resolveComponent"])("a-tag"),d=Object(o["resolveComponent"])("a-step"),b=Object(o["resolveComponent"])("a-steps"),O=Object(o["resolveComponent"])("a-table"),m=Object(o["resolveComponent"])("a-button"),j=Object(o["resolveComponent"])("a-radio"),u=Object(o["resolveComponent"])("a-input"),p=Object(o["resolveComponent"])("a-divider"),k=Object(o["resolveComponent"])("a-radio-group"),h=Object(o["resolveComponent"])("a-form-item"),f=Object(o["resolveComponent"])("a-form"),v=Object(o["resolveComponent"])("a-modal");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[Object(o["createElementVNode"])("a",{onClick:t[0]||(t[0]=(...e)=>r.goBack&&r.goBack(...e)),type:"link",class:"d-inline-block text-primary py-2 mb-3"},vt),Object(o["createElementVNode"])("div",null,[l.loadingOrder?(Object(o["openBlock"])(),Object(o["createBlock"])(s,{key:0,active:"",paragraph:{rows:6}})):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Nt,[Object(o["createElementVNode"])("div",Vt,[Object(o["createElementVNode"])("div",gt,[Object(o["createElementVNode"])("div",Et,[Object(o["createElementVNode"])("div",yt,[Object(o["createElementVNode"])("div",_t,[Object(o["createElementVNode"])("h5",Ct,"ORDER#"+Object(o["toDisplayString"])(l.order.id),1)]),Object(o["createElementVNode"])("div",wt,[1===l.order.status_id?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:0,class:"mx-0"},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(l.order.status),1)]),_:1})):l.order.status_id>1&&l.order.status_id<5?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:1,color:"green",class:"mx-0"},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(l.order.status),1)]),_:1})):5===l.order.status_id?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:2,color:"blue",class:"mx-0"},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(l.order.status),1)]),_:1})):6===l.order.status_id?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:3,color:"red",class:"mx-0"},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(l.order.status),1)]),_:1})):Object(o["createCommentVNode"])("",!0)])]),Object(o["createElementVNode"])("div",Bt,[Object(o["createElementVNode"])("div",xt,[Dt,Object(o["createElementVNode"])("div",St,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(l.order.customer.email),1)]),Object(o["createElementVNode"])("div",Tt,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(l.order.customer.full_name),1)]),Object(o["createElementVNode"])("div",Ft,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(l.order.customer.phone_number),1)])]),Object(o["createElementVNode"])("div",Pt,[It,Object(o["createElementVNode"])("div",$t,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(l.order.created_at),1)]),Object(o["createElementVNode"])("div",qt,[Object(o["createElementVNode"])("div",null,[0===l.order.category_item_id?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",Lt,Object(o["toDisplayString"])(l.order.category_item_caption),1)):(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",At,Object(o["toDisplayString"])(l.order.category_item_caption),1))])])])]),Object(o["createElementVNode"])("div",Kt,[Object(o["createElementVNode"])("div",Mt,[zt,Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])((null===(n=l.order.technician)||void 0===n?void 0:n.full_name)||"-"),1)])]),Object(o["createElementVNode"])("div",Rt,[Ut,Object(o["createElementVNode"])("div",Ht,[Qt,Gt,Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(l.order.device_type),1)]),Object(o["createElementVNode"])("div",Wt,[Jt,Yt,Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(l.order.device_serial_number),1)])])]),Object(o["createElementVNode"])("div",Xt,[Object(o["createElementVNode"])("div",Zt,[6!==l.order.status_id?(Object(o["openBlock"])(),Object(o["createBlock"])(b,{key:0,"progress-dot":"",current:l.order.status_id-1,direction:a.settings.isTabletView||a.settings.isMobileView?"vertical":"horizontal"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(d,{title:"Pesanan Dibuat",description:"Pesanan perbaikan/service telah dibuat."}),Object(o["createVNode"])(d,{title:"Perangkat Diterima",description:"Perangkat telah diterima oleh WeFixCBS."}),Object(o["createVNode"])(d,{title:"Perangkat Dikerjakan",description:"Perangkat sedang dalam pengerjaan oleh pihak WeFixCBS."}),Object(o["createVNode"])(d,{title:"Perangkat Selesai Dikerjakan",description:"Perangkat telah selesai dikerjakan dan menunggu Anda untuk menjemput perangkatnya."}),Object(o["createVNode"])(d,{title:"Pesanan Selesai",description:"Pesanan telah selesai."})]),_:1},8,["current","direction"])):Object(o["createCommentVNode"])("",!0)])])]),Object(o["createElementVNode"])("div",ec,[Object(o["createElementVNode"])("div",tc,[Object(o["createElementVNode"])("div",cc,[Object(o["createVNode"])(O,{columns:a.columns,"row-key":e=>e.id,"data-source":l.offers,pagination:!1},{price:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(l.order.formatted_price),1)]),_:1},8,["columns","row-key","data-source"])])]),Object(o["createElementVNode"])("div",oc,[Object(o["createElementVNode"])("div",ac,[lc,Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(l.order.note),1)])]),Object(o["createElementVNode"])("div",rc,[nc,Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("strong",sc,Object(o["toDisplayString"])(l.order.formatted_price),1)])])])])])]),5!==l.order.status_id||l.loadingOrderFeedbacks?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ic,[l.orderFeedbacks.length?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",bc,[Oc,Object(o["createElementVNode"])("div",mc,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(l.orderFeedbacks,e=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:e.id},[Object(o["createElementVNode"])("div",jc,[Object(o["createElementVNode"])("div",uc,Object(o["toDisplayString"])(e.feedback_question.question),1)]),Object(o["createElementVNode"])("div",pc,[e.choice_id?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",kc,[null!==e.feedback_question.choice_1?(Object(o["openBlock"])(),Object(o["createBlock"])(j,{key:0,checked:1===e.choice_id},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.feedback_question.choice_1),1)]),_:2},1032,["checked"])):Object(o["createCommentVNode"])("",!0),null!==e.feedback_question.choice_2?(Object(o["openBlock"])(),Object(o["createBlock"])(j,{key:1,checked:2===e.choice_id},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.feedback_question.choice_2),1)]),_:2},1032,["checked"])):Object(o["createCommentVNode"])("",!0),null!==e.feedback_question.choice_3?(Object(o["openBlock"])(),Object(o["createBlock"])(j,{key:2,checked:3===e.choice_id},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.feedback_question.choice_3),1)]),_:2},1032,["checked"])):Object(o["createCommentVNode"])("",!0),null!==e.feedback_question.choice_4?(Object(o["openBlock"])(),Object(o["createBlock"])(j,{key:3,checked:4===e.choice_id},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.feedback_question.choice_4),1)]),_:2},1032,["checked"])):Object(o["createCommentVNode"])("",!0),null!==e.feedback_question.choice_5?(Object(o["openBlock"])(),Object(o["createBlock"])(j,{key:4,checked:5===e.choice_id},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.feedback_question.choice_5),1)]),_:2},1032,["checked"])):Object(o["createCommentVNode"])("",!0)])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",hc,[Object(o["createVNode"])(u,{value:e.answer,"onUpdate:value":t=>e.answer=t,readonly:""},null,8,["value","onUpdate:value"])]))]),Object(o["createVNode"])(p)]))),128))])])):(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,type:"primary",block:"",onClick:a.openFeedbackModal},{default:Object(o["withCtx"])(()=>[dc]),_:1},8,["onClick"]))]))]))]),Object(o["createVNode"])(v,{visible:a.visibleFeedback,"onUpdate:visible":t[1]||(t[1]=e=>a.visibleFeedback=e),title:"Feedback","confirm-loading":l.loadingSubmit,bodyStyle:{maxHeight:"60vh",overflowY:"scroll",width:"500px"},"ok-text":"Kirim",onOk:r.submit},{default:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("div",null,[Object(o["createVNode"])(f,null,{default:Object(o["withCtx"])(()=>[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(l.feedbackQuestions,e=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:e.id},[Object(o["createElementVNode"])("p",fc,Object(o["toDisplayString"])(e.question),1),Object(o["createVNode"])(h,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(k,{onChange:t=>r.onRadioChange(t,e.id)},{default:Object(o["withCtx"])(()=>[e.choice_1?(Object(o["openBlock"])(),Object(o["createBlock"])(j,{key:0,value:"1",class:"radio-choice"},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.choice_1),1)]),_:2},1024)):Object(o["createCommentVNode"])("",!0),e.choice_2?(Object(o["openBlock"])(),Object(o["createBlock"])(j,{key:1,value:"2",class:"radio-choice"},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.choice_2),1)]),_:2},1024)):Object(o["createCommentVNode"])("",!0),e.choice_3?(Object(o["openBlock"])(),Object(o["createBlock"])(j,{key:2,value:"3",class:"radio-choice"},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.choice_3),1)]),_:2},1024)):Object(o["createCommentVNode"])("",!0),e.choice_4?(Object(o["openBlock"])(),Object(o["createBlock"])(j,{key:3,value:"4",class:"radio-choice"},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.choice_4),1)]),_:2},1024)):Object(o["createCommentVNode"])("",!0),e.choice_5?(Object(o["openBlock"])(),Object(o["createBlock"])(j,{key:4,value:"5",class:"radio-choice"},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.choice_5),1)]),_:2},1024)):Object(o["createCommentVNode"])("",!0)]),_:2},1032,["onChange"])]),_:2},1024)]))),128))]),_:1})])]),_:1},8,["visible","confirm-loading","onOk"])])}const Nc=new dt["a"]({hasErrorNotif:!1}),Vc=e=>Nc.axiosInstance.get(`/customer/orders/${e}/feedbacks/questions`),gc=e=>Nc.axiosInstance.get(`/customer/orders/${e}/feedbacks`),Ec=(e,t)=>Nc.axiosInstance.post(`/customer/orders/${e}/feedbacks`,t),yc=[{title:"Kategori",dataIndex:"category_item_caption",key:"category"},{title:"Tipe Perangkat",dataIndex:"device_type",key:"deviceType"},{title:"Harga",key:"price",slots:{customRender:"price"}}];var _c={setup(){const e=Object(o["ref"])(!1),t=Object(v["b"])(),c=Object(o["computed"])(()=>t.getters["Settings/settings"]),a=()=>{e.value=!0};return{columns:yc,settings:c,visibleFeedback:e,openFeedbackModal:a}},mounted(){this.orderId=this.$route.path.match(/\d*$/)[0],this.fetchOrder(),this.fetchOrderFeedbacks()},data(){return{orderId:"",order:null,offers:[],feedbackQuestions:[],orderFeedbacks:[],loadingOrder:!0,loadingOrderFeedbacks:!0,answers:[],loadingSubmit:!1}},methods:{submit(){const e=[];for(let c of this.answers)void 0!==c.choice_id&&e.push(Ec(this.orderId,{choice_id:c.choice_id,feedback_question_id:c.feedback_question_id}));let t=!0;Promise.allSettled(e=>e.forEach(e=>{"rejected"!==e.status&&200===e.value.status||(t=!1)})),t?(this.visibleFeedback=!1,this.$modal.success({title:"Feedback Berhasil Dikirim",content:"Terima kasih atas feedback Anda, feedback Anda sangat berguna bagi kami untuk terus meningkatkan kualitas dari layanan kami."})):this.$modal.error({title:"Feedback Gagal Dikirim",content:"Terjadi suatu kesalahan."})},async fetchOrderFeedbacks(){this.loadingOrderFeedbacks=!0;try{const e=await gc(this.orderId);200===e.status&&(this.orderFeedbacks=e.data)}catch(e){}this.loadingOrderFeedbacks=!1},async fetchFeedbackQuestions(){try{const e=await Vc();if(200===e.status){this.feedbackQuestions=e.data;for(let e of this.feedbackQuestions)this.answers.push({choice_id:void 0,feedback_question_id:e.id})}}catch(e){}},async fetchOrder(){this.loadingOrder=!0;try{const e=await mt(this.orderId);200===e.status&&(this.order=e.data,this.order.offer&&(this.offers=[e.data.offer]),5===this.order.status_id&&this.fetchFeedbackQuestions())}catch(e){}this.loadingOrder=!1},goBack(){this.$emit("back")},onRadioChange(e,t){const c=parseInt(e.target.value,10),o=this.answers.find(e=>e.feedback_question_id===t);o.choice_id=c}}};c("8f26");const Cc=L()(_c,[["render",vc],["__scopeId","data-v-cf7005e8"]]);var wc=Cc,Bc={components:{ListOrder:pt,DetailOrder:wc},setup(){const e=Object(N["d"])(),t=Object(o["ref"])("ListOrder"),c=c=>{e.push("/profile/orders/"+c),t.value="DetailOrder"},a=()=>{e.push("/profile/orders"),t.value="ListOrder"};return{activeComponent:t,backToList:a,goToDetail:c}}};const xc=L()(Bc,[["render",Te]]);var Dc=xc,Sc={components:{Biodata:K,Offer:De,Order:Dc},setup(){const e=Object(v["b"])(),t=Object(N["c"])(),c=Object(N["d"])(),a=Object(o["computed"])(()=>t.path),l=Object(o["computed"])(()=>e.getters["User/user"].offersCount),r=Object(o["computed"])(()=>e.getters["Settings/settings"]),n=Object(o["ref"])("1"),s=()=>{/^\/profile\/?$/.test(a.value)?n.value="1":/^\/profile\/offers\/?$/.test(a.value)?n.value="2":/^\/profile\/orders(\/|\/\d+)?$/.test(a.value)&&(n.value="3")},i=e=>{"1"===e?c.push("/profile"):"2"===e?c.push("/profile/offers"):"3"===e&&c.push("/profile/orders")};return Object(o["watch"])(a,()=>{s()}),Object(o["onMounted"])(()=>{s()}),{activeKey:n,settings:r,offersCount:l,onTabClick:i}},data(){return{loadingOffers:!0}},mounted(){this.fetchOffers()},methods:{async fetchOffers(){this.loadingOffers=!0;try{const e=await Object(V["c"])();200===e.status&&this.$store.dispatch("User/setOfferCount",{value:e.data.filter(e=>1===e.status_id).length})}catch(e){}this.loadingOffers=!1}}};c("1bdb");const Tc=L()(Sc,[["render",f],["__scopeId","data-v-2aa66d3f"]]);t["default"]=Tc}}]);