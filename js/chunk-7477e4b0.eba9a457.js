(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7477e4b0"],{"5ae5":function(e,t,a){},"6fa7":function(e,t,a){"use strict";a.r(t);var o=a("7a23");const r=e=>(Object(o["pushScopeId"])("data-v-c73ad03a"),e=e(),Object(o["popScopeId"])(),e),s={class:"pt-5"},n=r(()=>Object(o["createElementVNode"])("img",{src:"resources/images/illustrations/present.svg",alt:"",class:"illustration"},null,-1)),c=r(()=>Object(o["createElementVNode"])("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1440 320",class:"wave"},[Object(o["createElementVNode"])("path",{fill:"#2AA8FF","fill-opacity":"0.3",d:"M0,288L60,277.3C120,267,240,245,360,240C480,235,600,245,720,256C840,267,960,277,1080,266.7C1200,256,1320,224,1380,208L1440,192L1440,320L1380,320C1320,320,1200,320,1080,320C960,320,840,320,720,320C600,320,480,320,360,320C240,320,120,320,60,320L0,320Z"})],-1)),i={class:"container p-4"},l=r(()=>Object(o["createElementVNode"])("div",{class:"brand row align-items-center justify-content-center"},[Object(o["createElementVNode"])("img",{id:"logo",src:"resources/logo.png",alt:"wefixcbs"}),Object(o["createElementVNode"])("h2",{class:"name"},"WeFixCBS")],-1)),d={class:"card py-5 px-5"},m=r(()=>Object(o["createElementVNode"])("h4",{class:"text-center mb-5 pt-2"},"Daftar",-1)),u=r(()=>Object(o["createElementVNode"])("span",null," ðŸ‡®ðŸ‡© +62",-1)),p={key:0},b={class:"text-center"},f={class:"mb-2"},g=r(()=>Object(o["createElementVNode"])("span",null,"Sudah punya akun? ",-1)),h=Object(o["createTextVNode"])(" Login disini "),j=r(()=>Object(o["createElementVNode"])("p",{class:"text-center text-gray-5"},"Copyright Â© 2022",-1));function O(e,t,a,r,O,w){const v=Object(o["resolveComponent"])("a-alert"),_=Object(o["resolveComponent"])("a-input"),k=Object(o["resolveComponent"])("a-form-item"),N=Object(o["resolveComponent"])("a-input-password"),x=Object(o["resolveComponent"])("a-button"),C=Object(o["resolveComponent"])("a-form"),V=Object(o["resolveComponent"])("router-link");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",s,[n,c,Object(o["createElementVNode"])("div",i,[l,Object(o["createElementVNode"])("div",d,[m,r.error?(Object(o["openBlock"])(),Object(o["createBlock"])(v,{key:0,message:"Gagal",description:r.error,type:"error","show-icon":"",class:"mb-4"},null,8,["description"])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(C,{ref:"formRef",model:r.formState,rules:r.rules,layout:"vertical"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(k,{class:"mb-4",ref:"phone_number",label:"No Telp",name:"phone_number"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(_,{value:r.formState.phone_number,"onUpdate:value":t[0]||(t[0]=e=>r.formState.phone_number=e),size:"large",placeholder:"Cth. 89xxxxxxxxx"},{prefix:Object(o["withCtx"])(()=>[u]),_:1},8,["value"])]),_:1},512),Object(o["createVNode"])(k,{class:"mb-4",ref:"email",label:"Email",name:"email"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(_,{value:r.formState.email,"onUpdate:value":t[1]||(t[1]=e=>r.formState.email=e),size:"large",placeholder:"hello@example.com"},null,8,["value"])]),_:1},512),Object(o["createVNode"])(k,{class:"mb-4",ref:"full_name",label:"Nama",name:"full_name"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(_,{value:r.formState.full_name,"onUpdate:value":t[2]||(t[2]=e=>r.formState.full_name=e),size:"large",placeholder:"Masukkan nama Anda"},null,8,["value"])]),_:1},512),Object(o["createVNode"])(k,{ref:"password",label:"Password",name:"password"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(N,{value:r.formState.password,"onUpdate:value":t[3]||(t[3]=e=>r.formState.password=e),size:"large",placeholder:"Masukkan password"},null,8,["value"])]),_:1},512),Object(o["createVNode"])(k,{ref:"password_confirmation",label:"Konfirmasi Password",name:"password_confirmation"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(N,{value:r.formState.password_confirmation,"onUpdate:value":t[4]||(t[4]=e=>r.formState.password_confirmation=e),size:"large",placeholder:"Masukkan konfirmasi password"},null,8,["value"])]),_:1},512),Object(o["createVNode"])(k,{class:"mt-5"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(x,{type:"primary","html-type":"submit",onClick:w.onSubmit,class:"w-100",size:"large",loading:r.loading},{default:Object(o["withCtx"])(()=>[r.loading?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",p,"Daftar"))]),_:1},8,["onClick","loading"])]),_:1})]),_:1},8,["model","rules"]),Object(o["createElementVNode"])("div",b,[Object(o["createElementVNode"])("div",f,[g,Object(o["createVNode"])(V,{to:"/auth/login",class:"text-primary"},{default:Object(o["withCtx"])(()=>[h]),_:1})])])]),j])])}var w=a("9a1e"),v={name:"Register",setup(){const e=Object(o["ref"])(),t=Object(o["reactive"])({phone_number:"",password:"",password_confirmation:"",email:"",full_name:""}),a=Object(o["ref"])(!1),r=Object(o["ref"])(),s=async(e,a)=>""===a?Promise.reject("Konfirmasi password tidak boleh kosong."):a!==t.password?Promise.reject("Password dan Konfirmasi password harus sama."):Promise.resolve(),n=async(e,t)=>{const a=/^(^\+62|62|^08|^8)(\d{3,4}-?){2}\d{3,4}$/;return a.test(t)?Promise.resolve():Promise.reject("No telp tidak valid.")},c={phone_number:[{required:!0,message:"No telp. tidak boleh kosong.",trigger:"change"},{validator:n,message:"No telp tidak valid",trigger:"change"}],password:[{required:!0,message:"Password tidak boleh kosong.",trigger:"change"}],password_confirmation:[{required:!0,message:"Konfirmasi Password tidak boleh kosong.",trigger:"change"},{validator:s,trigger:"change"}],email:[{required:!0,message:"Email tidak boleh kosong.",trigger:"change"},{type:"email",message:"Email tidak valid.",trigger:"change"}],full_name:[{required:!0,message:"Nama tidak boleh kosong.",trigger:"change"}]};return{formRef:e,formState:t,rules:c,loading:a,error:r}},methods:{onSubmit(){this.formRef.validate().then(()=>this.doSignup()).catch(()=>{})},unifyPhoneNumber(e){let t=e;return t.startsWith("+62")?t=t.replace(/^\+62/):t.startsWith("62")?t=t.replace(/^62/):t.startsWith("8")&&(t="0"+t),t},async doSignup(){this.loading=!0;const e={...Object(o["toRaw"])(this.formState)};e.phone_number=this.unifyPhoneNumber(e.phone_number);const t=await Object(w["e"])(e);if(200===t.status){const e=t.data;this.$store.dispatch("User/setUser",{id:e.customer.id,phone_number:e.customer.phone_number,fullName:e.customer.full_name,email:e.customer.email,verified_email:e.customer.verified_email,token:e.token}),this.$notification.success({message:"Anda berhasil bergabung",description:"Selamat datang di WeFixCBS",duration:4}),this.$router.push("/")}else 422===t.status&&(this.error=t.data.error);this.loading=!1}}},_=(a("92fa"),a("6b0d")),k=a.n(_);const N=k()(v,[["render",O],["__scopeId","data-v-c73ad03a"]]);t["default"]=N},"92fa":function(e,t,a){"use strict";a("5ae5")},"9a1e":function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"e",(function(){return n})),a.d(t,"b",(function(){return c})),a.d(t,"f",(function(){return i})),a.d(t,"c",(function(){return l})),a.d(t,"d",(function(){return d}));var o=a("997a");const r=new o["a"]({hasErrorNotif:!1}),s=(e,t)=>r.axiosInstance.post("/customer/sessions/login",{phone_number:e,password:t}),n=e=>r.axiosInstance.post("/customer/sessions/register",e),c=()=>r.axiosInstance.get("/customer/sessions/request_token_verify_email"),i=e=>r.axiosInstance.post("/customer/sessions/verify_email",{token:e}),l=e=>r.axiosInstance.get("/customer/sessions/request_token_forgot_password",{params:{email:e}}),d=e=>r.axiosInstance.post("/customer/sessions/reset_password",e)}}]);